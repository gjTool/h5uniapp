(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/details/xsdetails"],{"0388":function(t,a,e){"use strict";var n=e("2dbb"),i=e.n(n);i.a},"0b04":function(t,a,e){"use strict";(function(t,n){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=s(e("4e99"));function s(t){return t&&t.__esModule?t:{default:t}}var o=function(){return e.e("components/mix-loading/mix-loading").then(e.bind(null,"7978"))},u=function(){return e.e("components/uni-icons/uni-icons").then(e.bind(null,"9e2c"))},l=function(){return e.e("components/uni-nav-bar/uni-nav-bar").then(e.bind(null,"b7c2"))},c={components:{mixLoading:o,uniIcons:u,uniNavBar:l},data:function(){return{visible:!1,num:0,loading:!0,detailData:{},list:[],obj:{},title:"",type:"h5"}},onShow:function(){},onLoad:function(a){var e=this;this.detailData=JSON.parse(a.data),this.title=this.detailData.name,this.num=t.getStorageSync("xsNum"+this.title),this.num=this.num?this.num:0,t.setNavigationBarTitle({title:this.title}),t.request({url:i.default.baseUrl,data:{xsurl1:this.detailData.url},method:"GET",complete:function(a){if(e.loading=!1,200==a.statusCode&&a.data&&0==a.data.code){var n=a.data.list;e.list=n,e.obj=a.data.data,e.detailData.cover=e.obj.cover,e.getCacheState(n);try{t.setStorageSync("xslist"+e.title,e.list)}catch(i){}}}}),this.$eventHub.$on("changeXsNum",function(a){e.num=a,t.setStorage({key:"xsNum"+e.title,data:e.num})})},methods:{getCacheState:function(a){var e=this,n=t.getStorageSync("xsDownload");if(n){for(var i=0;i<n.length;i++)if(n[i].name==e.title){var s=n[i].data;n[i].xslist=a,s.forEach(function(t){a.forEach(function(a){t.numName==a.num&&"done"==t.state&&(a.state="done")})});break}t.setStorageSync("xsDownload",n)}},download:function(){t.showToast({title:"点击了下载",icon:"none"})},imgError:function(t){t.cover="/static/404.jpg"},back:function(){t.navigateBack({delta:1})},play:function(a,e){this.num=e,t.setStorage({key:"xsNum"+this.title,data:e});try{t.setStorageSync("xslist"+a.name,this.list)}catch(n){}t.navigateTo({url:"/pages/xs/xs?src="+encodeURIComponent(a.url)+"&name="+encodeURIComponent(a.num)+"&xsname="+encodeURIComponent(this.title)+"&num="+encodeURIComponent(this.num)+"&url="+this.detailData.url+"&cover="+this.detailData.cover})},shoucang:function(){try{var a=t.getStorageSync("xsShouCang");if(a){this.detailData.num=this.num,this.detailData.list=this.list,console.log(n(this.num," at pages/details/xsdetails.vue:163"));for(var e=!1,i=0;i<a.length;i++)if(a[i].name==this.detailData.name){a[i]=this.detailData,e=!0;break}e?t.showToast({title:"已经收藏过啦"}):(a.push(this.detailData),t.setStorage({key:"xsShouCang",data:a,success:function(){t.showToast({title:"收藏成功"})}}))}else{var s=[];this.detailData.num=this.num,this.detailData.list=this.list,console.log(n(this.num," at pages/details/xsdetails.vue:193")),s.push(this.detailData),t.setStorage({key:"xsShouCang",data:s,success:function(){t.showToast({title:"收藏成功"})}})}}catch(u){var o=[];this.detailData.num=this.num,this.detailData.list=this.list,console.log(n(this.num," at pages/details/xsdetails.vue:209")),o.push(this.detailData),t.setStorage({key:"xsShouCang",data:o,success:function(){t.showToast({title:"收藏成功"})}})}},gotoxslist:function(){t.navigateTo({url:"/pages/xslist/xslist?xsname="+encodeURIComponent(this.title)+"&num="+encodeURIComponent(this.num)+"&from=xsdetails&url="+this.detailData.url+"&cover="+this.detailData.cover})}}};a.default=c}).call(this,e("6e42")["default"],e("0de9")["default"])},1063:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement;t._self._c},i=[];e.d(a,"a",function(){return n}),e.d(a,"b",function(){return i})},2083:function(t,a,e){"use strict";e.r(a);var n=e("0b04"),i=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(a,t,function(){return n[t]})}(s);a["default"]=i.a},"2dbb":function(t,a,e){},"5bd2":function(t,a,e){"use strict";(function(t){e("c9d0"),e("921b");n(e("66fd"));var a=n(e("7d39"));function n(t){return t&&t.__esModule?t:{default:t}}t(a.default)}).call(this,e("6e42")["createPage"])},"7d39":function(t,a,e){"use strict";e.r(a);var n=e("1063"),i=e("2083");for(var s in i)"default"!==s&&function(t){e.d(a,t,function(){return i[t]})}(s);e("0388");var o=e("2877"),u=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);a["default"]=u.exports}},[["5bd2","common/runtime","common/vendor"]]]);