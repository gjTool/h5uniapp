(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mhlist-mhlist"],{"0168":function(t,e,n){"use strict";n.r(e);var i=n("81a8"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"3a7a":function(t,e,n){"use strict";n.r(e);var i=n("e6f3"),o=n("0168");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("a197");var s,l=n("f0c5"),r=Object(l["a"])(o["default"],i["b"],i["c"],!1,null,"15da703f",null,!1,i["a"],s);e["default"]=r.exports},6339:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */.content[data-v-15da703f],\n.uni-xs-list[data-v-15da703f]{\n  /* background-color: #ec706b; */}.content .uni-xs-list .scroll[data-v-15da703f]{background-color:#fff}.active[data-v-15da703f]{color:#007aff;font-weight:600}.uni-xs-list[data-v-15da703f]{font-size:16px}.text-view[data-v-15da703f]{border-bottom:1px dotted #ccc;padding:6px 0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;font-size:14px;position:relative;padding-right:50px}.text-view .cache[data-v-15da703f]{position:absolute;top:6px;right:0;color:#999;font-weight:400}.list-bottom[data-v-15da703f],\n.list-top[data-v-15da703f]{text-align:center;color:#999}',""]),t.exports=e},"81a8":function(t,e,n){"use strict";var i=n("ee27");n("4160"),n("4e82"),n("e25e"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("c644")),a=i(n("3075")),s=i(n("72fa")),l=i(n("4e45")),r=i(n("0542")),u={components:{mixLoading:a.default,uniIcons:s.default,uniNavBar:l.default,mixPulldownRefresh:r.default},data:function(){return{num:0,mhname:"",show:!1,visible:!1,loading:!0,enableScroll:!0,title:"",url:"",url1:"",mhlist:[],list:[],sort:"升序",from:"xs",cover:""}},methods:{onPulldownReresh:function(){var t=this;this.getmhlist((function(e){t.$refs.mixPulldownRefresh&&t.$refs.mixPulldownRefresh.endPulldownRefresh(),"ok"==e?uni.showToast({title:"刷新成功"}):uni.showToast({title:"刷新失败",icon:"none"})}))},setEnableScroll:function(t){this.enableScroll!==t&&(this.enableScroll=t)},sortlist:function(){for(var t=this,e=[],n=this.mhlist.length-1;n>-1;n--)e.push(this.mhlist[n]);this.mhlist=e;var i=this.mhlist.length-1-this.num;this.num=i,"升序"==this.sort?(this.sort="倒序",uni.pageScrollTo({scrollTop:0,duration:0})):(this.sort="升序",t.scrollTo())},back:function(){uni.navigateBack({delta:1})},itemClick:function(t,e){var n=this;uni.setStorage({key:"mhNum"+this.mhname,data:e}),this.num=e;try{var i=uni.getStorageSync("mhShouCang");if(i){for(var o=0;o<i.length;o++)if(i[o].name==this.mhname){i[o].num=e,!0;break}uni.setStorage({key:"mhShouCang",data:i})}}catch(a){}this.$eventHub.$emit("changeMhNum",e),"mh"==this.from?(this.$eventHub.$emit("changeMhContent",t,e),setTimeout((function(){n.back()}),100)):uni.redirectTo({url:"/pages/mh/mh?src="+encodeURIComponent(t.url)+"&name="+encodeURIComponent(t.num)+"&mhname="+encodeURIComponent(this.mhname)+"&num="+encodeURIComponent(this.num)+"&url="+this.url1+"&cover="+this.cover})},scrollTo:function(){var t=this,e=uni.getSystemInfoSync().windowHeight,n=33*(parseInt(t.num)+6)-e/2+64+44;n=n-e>=0?n:0,uni.pageScrollTo({scrollTop:n,duration:0})},getmhlist:function(t){var e=this;e.loading=!0,uni.request({url:o.default.baseUrl,data:{mhurl1:this.url1},method:"GET",complete:function(n){if(e.loading=!1,200==n.statusCode&&n.data&&0==n.data.code){var i=n.data.list;e.mhlist=i,setTimeout((function(){e.scrollTo(),t&&t("ok")}),200);try{uni.setStorageSync("mhlist"+e.mhname,e.mhlist)}catch(o){}}else t&&t("fail")}})},getCacheState:function(t){var e=this,n=uni.getStorageSync("xsDownload");if(n){for(var i=0;i<n.length;i++)if(n[i].name==e.xsname){var o=n[i].data;n[i].xslist=t,o.forEach((function(e){t.forEach((function(t){e.numName==t.num&&"done"==e.state&&(t.state="done")}))})),e.xslist=t;break}uni.setStorageSync("xsDownload",n)}}},onNavigationBarButtonTap:function(t){t.index,0==t.index&&this.sortlist()},onLoad:function(t){var e=this;this.mhname=decodeURIComponent(t.mhname),this.num=decodeURIComponent(t.num),this.from=decodeURIComponent(t.from),this.url1=decodeURIComponent(t.url),this.cover=decodeURIComponent(t.cover),this.title=this.mhname,uni.setNavigationBarTitle({title:this.title}),e.mhlist=uni.getStorageSync("mhlist"+this.mhname),setTimeout((function(){e.scrollTo()}),200),e.getmhlist()}};e.default=u},9297:function(t,e,n){var i=n("6339");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("62145ab8",i,!0,{sourceMap:!1,shadowMode:!1})},a197:function(t,e,n){"use strict";var i=n("9297"),o=n.n(i);o.a},e6f3:function(t,e,n){"use strict";var i={mixPulldownRefresh:n("0542").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"uni-xs-list"},[n("mix-pulldown-refresh",{ref:"mixPulldownRefresh",attrs:{top:0},on:{refresh:function(e){arguments[0]=e=t.$handleEvent(e),t.onPulldownReresh.apply(void 0,arguments)},setEnableScroll:function(e){arguments[0]=e=t.$handleEvent(e),t.setEnableScroll.apply(void 0,arguments)}}},[n("v-uni-scroll-view",{staticClass:"scroll",staticStyle:{padding:"20upx"},attrs:{"scroll-y":t.enableScroll,"scroll-y":!0}},[n("v-uni-view",{staticClass:"list-top"},[n("v-uni-text",[t._v("到顶了～")])],1),t._l(t.mhlist,(function(e,i){return n("v-uni-view",{key:i,ref:i==t.num?"active":"",refInFor:!0,staticClass:"text-view",class:{active:i==t.num},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.itemClick(e,i)}}},[n("v-uni-text",{staticClass:"text"},[t._v(t._s(e.num))]),n("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:!!e.state,expression:"item.state ? true:false"}],staticClass:"cache"},[t._v("已缓存")])],1)})),n("v-uni-view",{staticClass:"list-bottom"},[n("v-uni-text",[t._v("到底了～")])],1)],2)],1)],1)],1)},a=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))}}]);