(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-xslist-xslist"],{"0054":function(t,e,n){var s=n("24fb");e=s(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */.content[data-v-5678cfec],\n.uni-xs-list[data-v-5678cfec]{\n  /* background-color: #ec706b; */}.content .uni-xs-list .scroll[data-v-5678cfec]{background-color:#fff}.active[data-v-5678cfec]{color:#007aff;font-weight:600}.uni-xs-list[data-v-5678cfec]{font-size:16px;padding-top:44px}.text-view[data-v-5678cfec]{border-bottom:1px dotted #ccc;padding:6px 0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;font-size:14px;position:relative;padding-right:50px}.text-view .cache[data-v-5678cfec]{position:absolute;top:6px;right:0;color:#999;font-weight:400}.list-bottom[data-v-5678cfec],\n.list-top[data-v-5678cfec]{text-align:center;color:#999}',""]),t.exports=e},"0b97":function(t,e,n){"use strict";n.r(e);var s=n("2194"),i=n("635d");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("e8e6");var a,l=n("f0c5"),c=Object(l["a"])(i["default"],s["b"],s["c"],!1,null,"5678cfec",null,!1,s["a"],a);e["default"]=c.exports},2194:function(t,e,n){"use strict";var s={mixPulldownRefresh:n("0542").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"uni-xs-list"},[n("mix-pulldown-refresh",{ref:"mixPulldownRefresh",attrs:{top:0},on:{refresh:function(e){arguments[0]=e=t.$handleEvent(e),t.onPulldownReresh.apply(void 0,arguments)},setEnableScroll:function(e){arguments[0]=e=t.$handleEvent(e),t.setEnableScroll.apply(void 0,arguments)}}},[n("v-uni-scroll-view",{staticClass:"scroll",staticStyle:{padding:"20upx"},attrs:{"scroll-y":t.enableScroll,"scroll-y":!0}},[n("v-uni-view",{staticClass:"list-top"},[n("v-uni-text",[t._v("到顶了～")])],1),t._l(t.xslist,(function(e,s){return n("v-uni-view",{key:s,ref:s==t.num?"active":"",refInFor:!0,staticClass:"text-view",class:{active:s==t.num},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.itemClick(e,s)}}},[n("v-uni-text",{staticClass:"text"},[t._v(t._s(e.num))]),n("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:!!e.state,expression:"item.state ? true:false"}],staticClass:"cache"},[t._v("已缓存")])],1)})),n("v-uni-view",{staticClass:"list-bottom"},[n("v-uni-text",[t._v("到底了～")])],1)],2)],1)],1)],1)},o=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return s}))},"635d":function(t,e,n){"use strict";n.r(e);var s=n("a9e7"),i=n.n(s);for(var o in s)"default"!==o&&function(t){n.d(e,t,(function(){return s[t]}))}(o);e["default"]=i.a},"9ab0":function(t,e,n){var s=n("0054");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=n("4f06").default;i("6624937a",s,!0,{sourceMap:!1,shadowMode:!1})},a9e7:function(t,e,n){"use strict";var s=n("ee27");n("4160"),n("4e82"),n("e25e"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(n("c644")),o=s(n("3075")),a=s(n("72fa")),l=s(n("4e45")),c=s(n("0542")),r={components:{mixLoading:o.default,uniIcons:a.default,uniNavBar:l.default,mixPulldownRefresh:c.default},data:function(){return{num:0,xsname:"",show:!1,visible:!1,loading:!0,enableScroll:!0,title:"",url:"",url1:"",xslist:[],list:[],sort:"升序",from:"xs",cover:""}},methods:{onPulldownReresh:function(){var t=this;this.getxslist((function(e){t.$refs.mixPulldownRefresh&&t.$refs.mixPulldownRefresh.endPulldownRefresh(),"ok"==e?uni.showToast({title:"刷新成功"}):uni.showToast({title:"刷新失败",icon:"none"})}))},setEnableScroll:function(t){this.enableScroll!==t&&(this.enableScroll=t)},sortlist:function(){for(var t=this,e=[],n=this.xslist.length-1;n>-1;n--)e.push(this.xslist[n]);this.xslist=e;var s=this.xslist.length-1-this.num;this.num=s,"升序"==this.sort?(this.sort="倒序",uni.pageScrollTo({scrollTop:0,duration:0})):(this.sort="升序",t.scrollTo())},back:function(){uni.navigateBack({delta:1})},itemClick:function(t,e){var n=this;uni.setStorage({key:"xsNum"+this.xsname,data:e}),this.num=e;try{var s=uni.getStorageSync("xsShouCang");if(s){for(var i=0;i<s.length;i++)if(s[i].name==this.xsname){s[i].num=e,!0;break}uni.setStorage({key:"xsShouCang",data:s})}}catch(o){}this.$eventHub.$emit("changeXsNum",e),"xs"==this.from?(this.$eventHub.$emit("changeXsContent",t,e),setTimeout((function(){n.back()}),100)):uni.redirectTo({url:"/pages/xs/xs?src="+encodeURIComponent(t.url)+"&name="+encodeURIComponent(t.num)+"&xsname="+encodeURIComponent(this.xsname)+"&num="+encodeURIComponent(this.num)+"&url="+this.url1+"&cover="+this.cover})},scrollTo:function(){var t=this,e=uni.getSystemInfoSync().windowHeight,n=33*(parseInt(t.num)+6)-e/2+64+44;n=n-e>=0?n:0,uni.pageScrollTo({scrollTop:n,duration:0})},getxslist:function(t){var e=this;e.loading=!0,uni.request({url:i.default.baseUrl,data:{xsurl1:this.url1},method:"GET",complete:function(n){if(e.loading=!1,200==n.statusCode&&n.data&&0==n.data.code){var s=n.data.list;e.xslist=s,e.getCacheState(e.xslist),setTimeout((function(){e.scrollTo(),t&&t("ok")}),200);try{uni.setStorageSync("xslist"+e.xsname,e.xslist)}catch(i){}}else t&&t("fail")}})},getCacheState:function(t){var e=this,n=uni.getStorageSync("xsDownload");if(n){for(var s=0;s<n.length;s++)if(n[s].name==e.xsname){var i=n[s].data;n[s].xslist=t,i.forEach((function(e){t.forEach((function(t){e.numName==t.num&&"done"==e.state&&(t.state="done")}))})),e.xslist=t;break}uni.setStorageSync("xsDownload",n)}}},onLoad:function(t){var e=this;this.xsname=decodeURIComponent(t.xsname),this.num=decodeURIComponent(t.num),this.from=decodeURIComponent(t.from),this.url1=decodeURIComponent(t.url),this.cover=decodeURIComponent(t.cover),this.title=this.xsname,uni.setNavigationBarTitle({title:this.title}),e.xslist=uni.getStorageSync("xslist"+this.xsname),e.getCacheState(e.xslist),setTimeout((function(){e.scrollTo()}),200),e.getxslist()}};e.default=r},e8e6:function(t,e,n){"use strict";var s=n("9ab0"),i=n.n(s);i.a}}]);