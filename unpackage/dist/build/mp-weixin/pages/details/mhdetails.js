(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/details/mhdetails"],{"0319":function(t,a,n){"use strict";n.r(a);var e=n("ffd3"),i=n.n(e);for(var o in e)"default"!==o&&function(t){n.d(a,t,(function(){return e[t]}))}(o);a["default"]=i.a},"17a1":function(t,a,n){},c29f:function(t,a,n){"use strict";(function(t){n("2d68");e(n("66fd"));var a=e(n("c7ed"));function e(t){return t&&t.__esModule?t:{default:t}}t(a.default)}).call(this,n("543d")["createPage"])},c51a:function(t,a,n){"use strict";var e,i=function(){var t=this,a=t.$createElement;t._self._c},o=[];n.d(a,"b",(function(){return i})),n.d(a,"c",(function(){return o})),n.d(a,"a",(function(){return e}))},c7ed:function(t,a,n){"use strict";n.r(a);var e=n("c51a"),i=n("0319");for(var o in i)"default"!==o&&function(t){n.d(a,t,(function(){return i[t]}))}(o);n("ea44");var s,u=n("f0c5"),l=Object(u["a"])(i["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],s);a["default"]=l.exports},ea44:function(t,a,n){"use strict";var e=n("17a1"),i=n.n(e);i.a},ffd3:function(t,a,n){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=i(n("c644"));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(){n.e("components/mix-loading/mix-loading").then(function(){return resolve(n("3075"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("components/uni-icons/uni-icons").then(function(){return resolve(n("72fa"))}.bind(null,n)).catch(n.oe)},u=function(){n.e("components/uni-nav-bar/uni-nav-bar").then(function(){return resolve(n("4e45"))}.bind(null,n)).catch(n.oe)},l={components:{mixLoading:o,uniIcons:s,uniNavBar:u},data:function(){return{visible:!1,num:0,loading:!0,detailData:{},list:[],title:"",obj:{},type:"h5"}},onNavigationBarButtonTap:function(a){a.index,0==a.index&&t.showToast({title:"点击了收藏"})},onLoad:function(a){var n=this;this.detailData=JSON.parse(a.data),this.title=this.detailData.name,this.num=t.getStorageSync("mhNum"+this.title),this.num=this.num?this.num:0,t.setNavigationBarTitle({title:this.title}),t.request({url:e.default.baseUrl,data:{mhurl1:this.detailData.url},method:"GET",complete:function(a){if(n.loading=!1,200==a.statusCode&&a.data&&0==a.data.code){var e=a.data.list;n.list=e,n.obj=a.data.data,n.detailData.cover=n.obj.cover;try{t.setStorageSync("mhlist"+n.title,n.list)}catch(i){}}}}),this.$eventHub.$on("changeMhNum",(function(a){n.num=a,t.setStorage({key:"mhNum"+n.title,data:n.num})}))},methods:{imgError:function(t){t.cover="/static/404.jpg"},play:function(a,n){this.num=n,t.setStorage({key:"mhNum"+this.title,data:n});try{t.setStorageSync("mhlist"+a.name,this.list)}catch(e){}t.navigateTo({url:"/pages/mh/mh?src="+encodeURIComponent(a.url)+"&name="+encodeURIComponent(a.num)+"&mhname="+encodeURIComponent(this.title)+"&num="+encodeURIComponent(this.num)+"&url="+this.detailData.url+"&cover="+this.detailData.cover})},back:function(){t.navigateBack({delta:1})},download:function(){t.showToast({title:"点击了下载",icon:"none"})},shoucang:function(){try{var a=t.getStorageSync("mhShouCang");if(a){this.detailData.num=this.num,this.detailData.list=this.list;for(var n=!1,e=0;e<a.length;e++)if(a[e].name==this.detailData.name){a[e]=this.detailData,n=!0;break}n?t.showToast({title:"已经收藏过啦"}):(a.push(this.detailData),t.setStorage({key:"mhShouCang",data:a,success:function(){t.showToast({title:"收藏成功"})}}))}else{var i=[];this.detailData.num=this.num,this.detailData.list=this.list,i.push(this.detailData),t.setStorage({key:"mhShouCang",data:i,success:function(){t.showToast({title:"收藏成功"})}})}}catch(s){var o=[];this.detailData.num=this.num,this.detailData.list=this.list,o.push(this.detailData),t.setStorage({key:"mhShouCang",data:o,success:function(){t.showToast({title:"收藏成功"})}})}},gotomhlist:function(){t.navigateTo({url:"/pages/mhlist/mhlist?mhname="+encodeURIComponent(this.title)+"&num="+encodeURIComponent(this.num)+"&from=mhdetails&url="+this.detailData.url+"&cover="+this.detailData.cover})}}};a.default=l}).call(this,n("543d")["default"])}},[["c29f","common/runtime","common/vendor"]]]);