(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/details/xsdetails"],{1830:function(t,a,e){"use strict";e.r(a);var n=e("5400"),i=e("2791");for(var o in i)"default"!==o&&function(t){e.d(a,t,(function(){return i[t]}))}(o);e("c9df");var s,u=e("f0c5"),l=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);a["default"]=l.exports},2791:function(t,a,e){"use strict";e.r(a);var n=e("4df0"),i=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(a,t,(function(){return n[t]}))}(o);a["default"]=i.a},"4df0":function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(e("c644"));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(){e.e("components/mix-loading/mix-loading").then(function(){return resolve(e("3075"))}.bind(null,e)).catch(e.oe)},s=function(){e.e("components/uni-icons/uni-icons").then(function(){return resolve(e("72fa"))}.bind(null,e)).catch(e.oe)},u=function(){e.e("components/uni-nav-bar/uni-nav-bar").then(function(){return resolve(e("4e45"))}.bind(null,e)).catch(e.oe)},l={components:{mixLoading:o,uniIcons:s,uniNavBar:u},data:function(){return{visible:!1,num:0,loading:!0,detailData:{},list:[],obj:{},title:"",type:"h5"}},onShow:function(){},onLoad:function(a){var e=this;this.detailData=JSON.parse(a.data),this.title=this.detailData.name,this.num=t.getStorageSync("xsNum"+this.title),this.num=this.num?this.num:0,t.setNavigationBarTitle({title:this.title}),t.request({url:n.default.baseUrl,data:{xsurl1:this.detailData.url},method:"GET",complete:function(a){if(e.loading=!1,200==a.statusCode&&a.data&&0==a.data.code){var n=a.data.list;e.list=n,e.obj=a.data.data,e.detailData.cover=e.obj.cover,e.getCacheState(n);try{t.setStorageSync("xslist"+e.title,e.list)}catch(i){}}}}),this.$eventHub.$on("changeXsNum",(function(a){e.num=a,t.setStorage({key:"xsNum"+e.title,data:e.num})}))},methods:{getCacheState:function(a){var e=this,n=t.getStorageSync("xsDownload");if(n){for(var i=0;i<n.length;i++)if(n[i].name==e.title){var o=n[i].data;n[i].xslist=a,o.forEach((function(t){a.forEach((function(a){t.numName==a.num&&"done"==t.state&&(a.state="done")}))}));break}t.setStorageSync("xsDownload",n)}},download:function(){t.showToast({title:"点击了下载",icon:"none"})},imgError:function(t){t.cover="/static/404.jpg"},back:function(){t.navigateBack({delta:1})},play:function(a,e){this.num=e,t.setStorage({key:"xsNum"+this.title,data:e});try{t.setStorageSync("xslist"+a.name,this.list)}catch(n){}t.navigateTo({url:"/pages/xs/xs?src="+encodeURIComponent(a.url)+"&name="+encodeURIComponent(a.num)+"&xsname="+encodeURIComponent(this.title)+"&num="+encodeURIComponent(this.num)+"&url="+this.detailData.url+"&cover="+this.detailData.cover})},shoucang:function(){try{var a=t.getStorageSync("xsShouCang");if(a){this.detailData.num=this.num,this.detailData.list=this.list;for(var e=!1,n=0;n<a.length;n++)if(a[n].name==this.detailData.name){a[n]=this.detailData,e=!0;break}e?t.showToast({title:"已经收藏过啦"}):(a.push(this.detailData),t.setStorage({key:"xsShouCang",data:a,success:function(){t.showToast({title:"收藏成功"})}}))}else{var i=[];this.detailData.num=this.num,this.detailData.list=this.list,i.push(this.detailData),t.setStorage({key:"xsShouCang",data:i,success:function(){t.showToast({title:"收藏成功"})}})}}catch(s){var o=[];this.detailData.num=this.num,this.detailData.list=this.list,o.push(this.detailData),t.setStorage({key:"xsShouCang",data:o,success:function(){t.showToast({title:"收藏成功"})}})}},gotoxslist:function(){t.navigateTo({url:"/pages/xslist/xslist?xsname="+encodeURIComponent(this.title)+"&num="+encodeURIComponent(this.num)+"&from=xsdetails&url="+this.detailData.url+"&cover="+this.detailData.cover})}}};a.default=l}).call(this,e("543d")["default"])},5400:function(t,a,e){"use strict";var n,i=function(){var t=this,a=t.$createElement;t._self._c},o=[];e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return n}))},"6f89":function(t,a,e){},"8ead":function(t,a,e){"use strict";(function(t){e("2d68");n(e("66fd"));var a=n(e("1830"));function n(t){return t&&t.__esModule?t:{default:t}}t(a.default)}).call(this,e("543d")["createPage"])},c9df:function(t,a,e){"use strict";var n=e("6f89"),i=e.n(n);i.a}},[["8ead","common/runtime","common/vendor"]]]);