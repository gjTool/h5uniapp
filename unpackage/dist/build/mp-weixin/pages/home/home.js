(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/home"],{3166:function(t,e,n){"use strict";(function(t){n("2d68");a(n("66fd"));var e=a(n("696f"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"442b":function(t,e,n){"use strict";var a=n("61fe"),i=n.n(a);i.a},"474a":function(t,e,n){"use strict";var a=n("8a95"),i=n.n(a);i.a},5265:function(t,e,n){"use strict";n.r(e);var a=n("6bec"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"61fe":function(t,e,n){},"696f":function(t,e,n){"use strict";n.r(e);var a=n("d5d5"),i=n("5265");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("474a"),n("442b");var r,s=n("f0c5"),c=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"870a8038",null,!1,a["a"],r);e["default"]=c.exports},"6bec":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(n("4795")),i=o(n("c644"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,a,i,o,r){try{var s=t[o](r),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(a,i)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var o=t.apply(e,n);function s(t){r(o,a,i,s,c,"next",t)}function c(t){r(o,a,i,s,c,"throw",t)}s(void 0)}))}}var c,u=function(){n.e("components/mix-loading/mix-loading").then(function(){return resolve(n("3075"))}.bind(null,n)).catch(n.oe)},l=function(){n.e("components/uni-icons/uni-icons").then(function(){return resolve(n("72fa"))}.bind(null,n)).catch(n.oe)},d=function(){n.e("components/uni-nav-bar/uni-nav-bar").then(function(){return resolve(n("4e45"))}.bind(null,n)).catch(n.oe)},f=0,g=!1,h={components:{mixLoading:u,uniIcons:l,uniNavBar:d},data:function(){return{tabBars:[{name:"影视",id:"3",contentList:[]},{name:"漫画",id:"1",contentList:[]}],tabCurrentIndex:0,scrollLeft:0,enableScroll:!0,contentData:{},loading:!1,first:!1,keyWord:"",loadListRequest:null,timedown:3,ipad:!1,top:"65px",marginTop:"99px"}},computed:{advertNavUrl:function(){return"/pages/gonggao/gonggao"},advertImgUrl:function(){return"/static/advert/1.jpg"}},onLoad:function(){var e=this;return s(a.default.mark((function n(){var i,o,r,s;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.loading=!0,i=t.getSystemInfoSync().windowWidth,e.statusBarHeight=t.getSystemInfoSync().statusBarHeight,e.top=e.statusBarHeight+45+"px",e.marginTop=e.statusBarHeight+79+"px",i>=768&&(e.ipad=!0),e.keyWord="2020",o=e.tabBars[0],e.loadList(o),r=e.tabBars[1],e.loadList(r),s=e.tabBars[2],e.loadList(s);case 13:case"end":return n.stop()}}),n)})))()},onNavigationBarSearchInputChanged:function(t){},onNavigationBarSearchInputConfirmed:function(t){this.confirm({detail:{value:t.text}})},onShow:function(){t.request({url:"https://www.gjtool.cn/download/config.json",method:"GET",complete:function(e){if(200==e.statusCode&&e.data){var n=e.data;t.setStorage({key:"config",data:n}),n&&n.enable||t.reLaunch({url:"/pages/gonggao/gonggao"})}}})},onHide:function(){},onReady:function(){var e=t.getStorageSync("config");e&&!e.advert&&(this.timedown=0),this.timedown=0},methods:{imgError:function(t){t.cover="/static/404.jpg"},confirm:function(e){var n=this;if(this.keyWord=e.detail.value,t.hideKeyboard(),t.pageScrollTo({scrollTop:0,duration:0}),-1==this.keyWord.indexOf("baseUrl:")){if(""!=this.keyWord.trim()){var a=this.tabBars[0];this.loadList(a);var o=this.tabBars[1];this.loadList(o);var r=this.tabBars[2];this.loadList(r)}}else{var s=this.keyWord.replace("baseUrl:","");t.showModal({title:"提示",content:"基础配置url由"+i.default.baseUrl+"\n改为："+s,success:function(e){if(e.confirm){t.setStorageSync("baseUrl",s),i.default.baseUrl=s,n.keyWord="2020";var a=n.tabBars[0];n.loadList(a);var o=n.tabBars[1];n.loadList(o);var r=n.tabBars[2];n.loadList(r)}else e.cancel}})}},back:function(){t.navigateBack({delta:1})},loadList:function(e){var n=this,a=this,o="";e&&("1"==e.id&&(o="mhname"),"2"==e.id&&(o="xsname"),"3"==e.id&&(o="ysname"),""!=this.keyWord.trim()&&(this.loading=!0,this.loadListRequest,this.loadListRequest=t.request({url:i.default.baseUrl+"?"+o+"="+this.keyWord+"&_="+(new Date).getTime(),method:"GET",complete:function(t){if(200==t.statusCode&&t.data&&0==t.data.code){var i=t.data.list,r=[];i.forEach((function(t){t.genre&&t.genre.indexOf("福利")<=-1&&t.genre.indexOf("伦理")<=-1&&t.genre.indexOf("写真")<=-1&&r.push(t)})),a.contentData="ysname"==o?r:t.data.list,a.contentData.length=33,a.getList(e,a.contentData)}else a.getList(e,[]);n.loading=!1,n.loadListRequest=null}})))},getList:function(t,e){var n=e;t.contentList=[],n.forEach((function(e,n){t&&"3"==t.id&&!e.cover&&(e.cover="/static/404.jpg"),e._type=t.id,t.contentList.push(e)})),this.first=!0},navToDetails:function(e){"3"==e._type&&t.navigateTo({url:"/pages/details/detailsMP?data=".concat(JSON.stringify(e))}),"1"==e._type&&t.navigateTo({url:"/pages/details/mhdetails?data=".concat(JSON.stringify(e))}),"2"==e._type&&t.navigateTo({url:"/pages/details/xsdetails?data=".concat(JSON.stringify(e))})},setEnableScroll:function(t){this.enableScroll!==t&&(this.enableScroll=t)},changeTab:function(t){var e=this;return s(a.default.mark((function n(){var i,o,r,s,u;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.loading=!1,g&&(clearTimeout(g),g=!1),i=t,"object"===typeof t&&(i=t.detail.current),"object"===typeof c){n.next=8;break}return n.next=7,e.getElSize("nav-bar");case 7:c=n.sent;case 8:c.scrollLeft,o=0,r=0,s=0;case 12:if(!(s<=i)){n.next=21;break}return n.next=15,e.getElSize("tab"+s);case 15:u=n.sent,o+=u.width,s===i&&(r=u.width);case 18:s++,n.next=12;break;case 21:"number"===typeof t&&(e.tabCurrentIndex=i),g=setTimeout((function(){e.scrollLeft=o-r/2>f/2?o-r/2-f/2:0,"object"===typeof t&&(e.tabCurrentIndex=i),e.tabCurrentIndex=i;e.tabBars[e.tabCurrentIndex]}),300);case 23:case"end":return n.stop()}}),n)})))()},getElSize:function(e){return new Promise((function(n,a){var i=t.createSelectorQuery().select("#"+e);i.fields({size:!0,scrollOffset:!0,rect:!0},(function(t){n(t)})).exec()}))}}};e.default=h}).call(this,n("543d")["default"])},"8a95":function(t,e,n){},d5d5:function(t,e,n){"use strict";var a={uniNavBar:function(){return n.e("components/uni-nav-bar/uni-nav-bar").then(n.bind(null,"4e45"))},uniIcons:function(){return n.e("components/uni-icons/uni-icons").then(n.bind(null,"72fa"))}},i=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}))}},[["3166","common/runtime","common/vendor"]]]);