(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"039a":function(t,e,n){"use strict";var i=n("addb"),s=n.n(i);s.a},"127f":function(t,e,n){"use strict";(function(t){n("3be2");i(n("66fd"));var e=i(n("8bb8"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"4c7e":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("4795")),s=a(n("2681"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(i,s)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(i,s){var a=t.apply(e,n);function o(t){r(a,i,s,o,c,"next",t)}function c(t){r(a,i,s,o,c,"throw",t)}o(void 0)}))}}var c=function(){n.e("components/mix-loading/mix-loading").then(function(){return resolve(n("7d04"))}.bind(null,n)).catch(n.oe)},u=function(){n.e("components/uni-icons/uni-icons").then(function(){return resolve(n("c33c"))}.bind(null,n)).catch(n.oe)},l=function(){n.e("components/uni-nav-bar/uni-nav-bar").then(function(){return resolve(n("d213"))}.bind(null,n)).catch(n.oe)},d=function(){n.e("components/uni-popup/uni-popup").then(function(){return resolve(n("fedf"))}.bind(null,n)).catch(n.oe)},f={components:{mixLoading:c,uniIcons:u,uniNavBar:l,uniPopup:d},data:function(){return{tabBars:[{name:"影视",id:"3",contentList:[]},{name:"漫画",id:"1",contentList:[]},{name:"小说",id:"2",contentList:[]}],tabCurrentIndex:0,scrollLeft:0,enableScroll:!0,contentData:{},loading:!1,keyWord:"",loadListRequest:null,cancelFlag:!1,show:!1,type:"",selectObj:"",index:0,selectObjIndex:0,openid:"",MhZJList:[],YsZJList:[],XsZJList:[]}},onLoad:function(){var e=this;return o(i.default.mark((function n(){var a,r,o,c,u;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e,r=t.getStorageSync("config"),e.index=r.index,a.windowWidth=t.getSystemInfoSync().windowWidth,e.openid=t.getStorageSync("userInfo").openid,e.openid=t.getStorageSync("userInfo").openid,e.MhZJList=s.default.getMhZJ(),e.MhZJList&&e.MhZJList.length)for(e.tabBars[1].contentList=e.MhZJList,o=0;o<e.tabBars[1].contentList.length;o++)(function(t){e.getMhCover(e.tabBars[1].contentList[t],t,e.tabBars[1].contentList.length)})(o);if(e.YsZJList=s.default.getYsZJ(),e.YsZJList&&e.YsZJList.length)for(e.tabBars[0].contentList=e.YsZJList,c=0;c<e.tabBars[0].contentList.length;c++)(function(t){e.getCover(e.tabBars[0].contentList[t],t,e.tabBars[0].contentList.length)})(c);if(e.XsZJList=s.default.getXsZJ(),e.XsZJList&&e.XsZJList.length)for(e.tabBars[2].contentList=e.XsZJList,u=0;u<e.tabBars[2].contentList.length;u++)(function(t){e.getXsCover(e.tabBars[2].contentList[t],t,e.tabBars[2].contentList.length)})(u);a.tabBar=e.getElSize("nav-bar");case 13:case"end":return n.stop()}}),n)})))()},onNavigationBarButtonTap:function(t){0==t.index&&this.clearCache(),1==t.index&&this.bianji()},onShow:function(){var e=this;e.windowWidth=t.getSystemInfoSync().windowWidth,this.openid=t.getStorageSync("userInfo").openid,this.MhZJList=s.default.getMhZJ(),this.MhZJList&&this.MhZJList.length&&(this.tabBars[1].contentList=this.MhZJList),this.YsZJList=s.default.getYsZJ(),this.YsZJList&&this.YsZJList.length&&(this.tabBars[0].contentList=this.YsZJList),this.XsZJList=s.default.getXsZJ(),this.XsZJList&&this.XsZJList.length&&(this.tabBars[2].contentList=this.XsZJList)},methods:{getCover:function(e,n,i){var s=this;if(0!=this.index){var a=t.request({url:t.getStorageSync("baseUrl"),data:{ysurl:e.url},method:"GET",complete:function(t){if(200==t.statusCode&&t.data&&0==t.data.code){var i=t.data.data,a=e.name;e.cover=i.cover,e.name=i.name;var r=e.name1.replace(a,""),o=t.data.list[t.data.list.length-1].num;-1!=r.indexOf("更新")?-1!=e.genre.indexOf("综艺")?-1!=o.indexOf("集")||-1!=o.indexOf("期")?e.imgText="更新至"+o:e.imgText="更新至"+o+"期":e.imgText="更新至"+o:-1!=r.indexOf("完结")?-1==e.genre.indexOf("综艺")?e.imgText=t.data.list.length+"集全":e.imgText="更新至"+o:-1!=r.indexOf("集")?e.imgText="更新至"+o:-1!=r.indexOf("期")?e.imgText="更新至"+o:e.imgText=e.time+"更新",s.tabBars[0].contentList[n].imgText=e.imgText}}});return this.ysurlRequest=a,a}},clearYsurlRequestList:function(){this.ysurlRequestList.length&&(this.ysurlRequestList.forEach((function(t){t.abort()})),this.ysurlRequestList=[])},getMhCover:function(e,n,i){var s=this;if(0!=this.index){var a=t.request({url:t.getStorageSync("baseUrl"),data:{mhurl1:e.url},method:"GET",complete:function(t){if(200==t.statusCode&&t.data&&0==t.data.code){var i=t.data.data;e.name;e.cover=i.cover,e.name=i.name,e.imgText=i.time?i.time+"更新":"",e.genre=i.tag?i.tag:"其他",s.tabBars[1].contentList[n].imgText=e.imgText}}});return this.mhurlRequest=a,a}},clearMhurlRequestList:function(){this.mhurlRequestList.length&&(this.mhurlRequestList.forEach((function(t){t.abort()})),this.mhurlRequestList=[])},getXsCover:function(e,n,i){var s=this;if(0!=this.index){var a=t.request({url:t.getStorageSync("baseUrl"),data:{xsurl1:e.url},method:"GET",complete:function(t){if(200==t.statusCode&&t.data&&0==t.data.code){var i=t.data.data;e.imgText=i.num,e.num=i.num,s.tabBars[2].contentList[n].imgText=e.imgText}}});return this.xsurlRequest=a,a}},clearXsurlRequestList:function(){this.xsurlRequestList.length&&(this.xsurlRequestList.forEach((function(t){t.abort()})),this.xsurlRequestList=[])},navToDetails:function(e){if("3"==e._type){var n="/pages/details/detailsMP?data=".concat(JSON.stringify(e));0==this.index&&(n=""),t.navigateTo({url:n})}if("1"==e._type){var i=t.getStorageSync("mhlist"+e.url),s="/pages/mh/mh?src="+encodeURIComponent(i[e.num].url)+"&data="+JSON.stringify(e);0==this.index&&(s=""),t.navigateTo({url:s})}if("2"==e._type){var a=t.getStorageSync("xslist"+e.url),r="/pages/xs/xs?src="+encodeURIComponent(a[e.index].url)+"&data="+JSON.stringify(e);0==this.index&&(r=""),t.navigateTo({url:r})}},clearCache:function(){var e=this;t.showModal({title:"提示",content:"确定清除所有缓存吗？",success:function(n){if(n.confirm)try{t.clearStorage(),t.showToast({title:"清除成功",icon:"none"}),e.tabBars=[{name:"影视",id:"3",contentList:[]},{name:"漫画",id:"1",contentList:[]}]}catch(i){}}})},imgError:function(t){t.cover="/static/404.jpg"},setEnableScroll:function(t){this.enableScroll!==t&&(this.enableScroll=t)},changeTab:function(t){var e=this;return o(i.default.mark((function n(){var s,a,r,o,c,u;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=e,e.loading=!1,s.scrollTimer&&(clearTimeout(s.scrollTimer),s.scrollTimer=!1),a=t,"object"===typeof t&&(a=t.detail.current),"object"===typeof s.tabBar){n.next=9;break}return n.next=8,e.getElSize("nav-bar");case 8:s.tabBar=n.sent;case 9:s.tabBar.scrollLeft,r=0,o=0,c=0;case 13:if(!(c<=a)){n.next=22;break}return n.next=16,e.getElSize("tab"+c);case 16:u=n.sent,r+=u.width,c===a&&(o=u.width);case 19:c++,n.next=13;break;case 22:"number"===typeof t&&(e.tabCurrentIndex=a),s.scrollTimer=setTimeout((function(){}),0),r-o/2>s.windowWidth/2?e.scrollLeft=r-o/2-s.windowWidth/2:e.scrollLeft=0,"object"===typeof t&&(e.tabCurrentIndex=a),e.tabCurrentIndex=a,e.tabBars[e.tabCurrentIndex];case 28:case"end":return n.stop()}}),n)})))()},getElSize:function(e){return new Promise((function(n,i){var s=t.createSelectorQuery().select("#"+e);s.fields({size:!0,scrollOffset:!0,rect:!0},(function(t){n(t)})).exec()}))}}};e.default=f}).call(this,n("543d")["default"])},"85d2":function(t,e,n){"use strict";n.r(e);var i=n("4c7e"),s=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=s.a},"8bb8":function(t,e,n){"use strict";n.r(e);var i=n("90d4"),s=n("85d2");for(var a in s)"default"!==a&&function(t){n.d(e,t,(function(){return s[t]}))}(a);n("039a");var r,o=n("f0c5"),c=Object(o["a"])(s["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=c.exports},"90d4":function(t,e,n){"use strict";var i,s=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},addb:function(t,e,n){}},[["127f","common/runtime","common/vendor"]]]);