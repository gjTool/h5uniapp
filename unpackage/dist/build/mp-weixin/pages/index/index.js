(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"1bc0":function(e,t,n){"use strict";var o=n("9cc9"),a=n.n(o);a.a},"2ace":function(e,t,n){"use strict";n.r(t);var o=n("62b7"),a=n.n(o);for(var c in o)"default"!==c&&function(e){n.d(t,e,(function(){return o[e]}))}(c);t["default"]=a.a},"2be8":function(e,t,n){"use strict";n.r(t);var o=n("7b34"),a=n("2ace");for(var c in a)"default"!==c&&function(e){n.d(t,e,(function(){return a[e]}))}(c);n("1bc0");var i,s=n("f0c5"),r=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);t["default"]=r.exports},3490:function(e,t,n){"use strict";(function(e){n("2d68");o(n("66fd"));var t=o(n("2be8"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"62b7":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("4795"));a(n("c644"));function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,o,a,c,i){try{var s=e[c](i),r=s.value}catch(u){return void n(u)}s.done?t(r):Promise.resolve(r).then(o,a)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function s(e){c(i,o,a,s,r,"next",e)}function r(e){c(i,o,a,s,r,"throw",e)}s(void 0)}))}}var s,r=function(){n.e("components/mix-loading/mix-loading").then(function(){return resolve(n("3075"))}.bind(null,n)).catch(n.oe)},u=function(){n.e("components/uni-icons/uni-icons").then(function(){return resolve(n("72fa"))}.bind(null,n)).catch(n.oe)},l=function(){n.e("components/uni-nav-bar/uni-nav-bar").then(function(){return resolve(n("4e45"))}.bind(null,n)).catch(n.oe)},f=function(){n.e("components/uni-popup/uni-popup").then(function(){return resolve(n("9463"))}.bind(null,n)).catch(n.oe)},d=0,p=!1,h={components:{mixLoading:r,uniIcons:u,uniNavBar:l,uniPopup:f},data:function(){return{tabBars:[{name:"影视",id:"3",contentList:[]},{name:"漫画",id:"1",contentList:[]}],tabCurrentIndex:0,scrollLeft:0,enableScroll:!0,contentData:{},loading:!1,keyWord:"",loadListRequest:null,cancelFlag:!1,show:!1,type:"",selectObj:"",selectObjIndex:0}},computed:{},onLoad:function(){return i(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:d=e.getSystemInfoSync().windowWidth;case 1:case"end":return t.stop()}}),t)})))()},onNavigationBarButtonTap:function(e){0==e.index&&this.clearCache(),1==e.index&&this.bianji()},onShow:function(){this.loadList(),e.request({url:"https://www.gjtool.cn/download/config.json",method:"GET",complete:function(t){if(200==t.statusCode&&t.data){var n=t.data;e.setStorage({key:"config",data:n}),n&&n.enable||e.reLaunch({url:"/pages/gonggao/gonggao"})}}})},onHide:function(){this.$refs["share"].close(),this.cancelFlag=!1},onReady:function(){},methods:{clearCache:function(){var t=this;e.showModal({title:"提示",content:"确定清除所有缓存吗？",success:function(n){if(n.confirm)try{e.clearStorage(),e.showToast({title:"清除成功",icon:"none"}),t.tabBars=[{name:"影视",id:"3",contentList:[]},{name:"漫画",id:"1",contentList:[]}]}catch(o){}}})},gotoXsJianjie:function(){var t=this.selectObj;"3"==t._type&&e.navigateTo({url:"/pages/details/details?data=".concat(JSON.stringify(t))}),"1"==t._type&&e.navigateTo({url:"/pages/details/mhdetails?data=".concat(JSON.stringify(t))}),"2"==t._type&&e.navigateTo({url:"/pages/details/xsdetails?data=".concat(JSON.stringify(t))})},gotoXsMulu:function(){var t=this.selectObj;t._type,t._type,"2"==t._type&&e.navigateTo({url:"/pages/xslist/xslist?xsname="+encodeURIComponent(t.name)+"&num="+encodeURIComponent(t.num)+"&from=index&url="+t.url+"&cover="+t.cover})},downloadXs:function(){e.showToast({title:"点击下载"})},deleteXsSc:function(){this.$refs["share"].close(),this.deleteItem(this.selectObj._type,this.selectObj,this.selectObjIndex)},imgError:function(e){e.cover="/static/404.jpg"},bianji:function(){this.cancelFlag=!this.cancelFlag},deleteItem:function(t,n,o){var a=this;e.showModal({title:"提示",content:"确定删除《"+n.name+"》吗？",success:function(e){if(e.confirm){if("3"==t){var o=a.tabBars[0].contentList;a.tabBars[0].contentList=a.deleteSC("ysShouCang",o,n)}if("1"==t){var c=a.tabBars[1].contentList;a.tabBars[1].contentList=a.deleteSC("mhShouCang",c,n)}}else e.cancel&&(a.cancelFlag=!1)}})},deleteSC:function(t,n,o){for(var a=this,c=e.getStorageSync("type"),i=0;i<c.length;i++)if(c[i].name==o.name){c.splice(i,1);break}e.removeStorage("xsNum"+o.name),e.setStorage({key:t,data:c,success:function(){e.showToast({title:"删除成功"}),a.cancelFlag=!1}});for(var s=0;s<n.length;s++)n[s].name==o.name&&n.splice(s,1);return n},longpress:function(e,t){this.selectObj=e,this.selectObjIndex=t,this.cancelFlag=!1,"2"==e._type&&this.togglePopup("bottom","share")},togglePopup:function(e,t){switch(e){case"top":this.content="顶部弹出 popup";break;case"bottom":this.content="底部弹出 popup";break;case"center":this.content="居中弹出 popup";break}this.type=e,"tip"===t?this.show=!0:this.$refs[t].open()},cancel:function(e){"tip"!==e?this.$refs[e].close():this.show=!1},change:function(e){},loadList:function(){var t=this;e.getStorage({key:"ysShouCang",success:function(e){var n=e.data;n.forEach((function(e,t){e._type="3"})),t.tabBars[0].contentList=n}}),e.getStorage({key:"mhShouCang",success:function(e){var n=e.data;n.forEach((function(e,t){e._type="1"})),t.tabBars[1].contentList=n}})},navToDetails:function(t){if("3"==t._type&&e.navigateTo({url:"/pages/details/details?data=".concat(JSON.stringify(t))}),"1"==t._type){var n=t.list[t.num];e.setStorage({key:"mhlist"+t.name,data:t.list}),e.navigateTo({url:"/pages/mh/mh?src="+encodeURIComponent(n.url)+"&name="+encodeURIComponent(t.list[t.num].num)+"&mhname="+encodeURIComponent(t.name)+"&num="+encodeURIComponent(t.num)+"&url="+t.url+"&cover="+t.cover})}if("2"==t._type){var o=t.list[t.num];e.setStorage({key:"xslist"+t.name,data:t.list}),e.navigateTo({url:"/pages/xs/xs?src="+encodeURIComponent(o.url)+"&name="+encodeURIComponent(t.list[t.num].num)+"&xsname="+encodeURIComponent(t.name)+"&num="+encodeURIComponent(t.num)+"&url="+t.url+"&cover="+t.cover})}},setEnableScroll:function(e){this.enableScroll!==e&&(this.enableScroll=e)},changeTab:function(e){var t=this;return i(o.default.mark((function n(){var a,c,i,r,u;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.loading=!1,p&&(clearTimeout(p),p=!1),a=e,"object"===typeof e&&(a=e.detail.current),"object"===typeof s){n.next=8;break}return n.next=7,t.getElSize("nav-bar");case 7:s=n.sent;case 8:s.scrollLeft,c=0,i=0,r=0;case 12:if(!(r<=a)){n.next=21;break}return n.next=15,t.getElSize("tab"+r);case 15:u=n.sent,c+=u.width,r===a&&(i=u.width);case 18:r++,n.next=12;break;case 21:"number"===typeof e&&(t.tabCurrentIndex=a),p=setTimeout((function(){t.scrollLeft=c-i/2>d/2?c-i/2-d/2:0,"object"===typeof e&&(t.tabCurrentIndex=a),t.tabCurrentIndex=a;t.tabBars[t.tabCurrentIndex]}),300);case 23:case"end":return n.stop()}}),n)})))()},getElSize:function(t){return new Promise((function(n,o){var a=e.createSelectorQuery().select("#"+t);a.fields({size:!0,scrollOffset:!0,rect:!0},(function(e){n(e)})).exec()}))}}};t.default=h}).call(this,n("543d")["default"])},"7b34":function(e,t,n){"use strict";var o={uniPopup:function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"9463"))}},a=function(){var e=this,t=e.$createElement;e._self._c},c=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return o}))},"9cc9":function(e,t,n){}},[["3490","common/runtime","common/vendor"]]]);