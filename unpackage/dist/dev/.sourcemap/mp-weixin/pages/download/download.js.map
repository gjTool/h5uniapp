{"version":3,"sources":["uni-app:///main.js","webpack:////Users/gaojin/gjtool-app/pages/download/download.vue?1a92","webpack:////Users/gaojin/gjtool-app/pages/download/download.vue?c58a","webpack:////Users/gaojin/gjtool-app/pages/download/download.vue?6692","webpack:////Users/gaojin/gjtool-app/pages/download/download.vue?032f","uni-app:///pages/download/download.vue","webpack:////Users/gaojin/gjtool-app/pages/download/download.vue?a511","webpack:////Users/gaojin/gjtool-app/pages/download/download.vue?43bc"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,qG;AACAA,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACc;;;AAGrE;AAC0M;AAC1M,gBAAgB,iNAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,8LAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvCA;AAAA;AAAA;AAAA;AAAwyB,CAAgB,syBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoE5zB,8E;;;;;AAKA;AACA,mBADA;AAEA,MAFA,C;AAGA;AACA;AACA,0BADA;AAEA,sBAFA;AAGA,wBAHA;AAIA,sBAJA,EADA;;AAOA,MAPA,kBAOA;AACA;AACA;AACA;AACA,kBADA;AAEA,eAFA;AAGA,uBAHA,EADA;;AAMA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBADA;AAEA,eAFA;AAGA,uBAHA,EAZA,CADA;;;AAmBA,wBAnBA,EAmBA;AACA,mBApBA,EAoBA;AACA,wBArBA;AAsBA,qBAtBA;AAuBA,oBAvBA;AAwBA,iBAxBA;AAyBA,iBAzBA;AA0BA,2BA1BA;AA2BA,uBA3BA;AA4BA,iBA5BA;AA6BA,cA7BA;AA8BA,mBA9BA,EA8BA;AACA,uBA/BA,CA+BA;AA/BA;AAiCA,GAzCA;AA0CA,QA1CA,oBA0CA;AACA;AACA;AACA,GA7CA;AA8CA,cA9CA;;;AAiDA,0BAjDA,oCAiDA,CAjDA,EAiDA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAxDA;AAyDA,QAzDA,oBAyDA;;;;AAIA;AACA;AACA,uDADA;AAEA,mBAFA;AAGA;AACA;AACA;AACA;AACA,yBADA;AAEA,sBAFA;;AAIA;AACA;AACA,2CADA;;AAGA;AACA;AACA,OAhBA;;AAkBA,GAhFA;AAiFA,QAjFA,oBAiFA;AACA,mBADA,GACA,MADA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAdA;AAeA;AACA;;AAEA,eAFA;AAGA;AACA;;AAEA,eAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eATA,EASA,GATA,EA7BA;AAuCA,GAxHA;AAyHA,UAzHA,sBAyHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAhIA;AAiIA,SAjIA,qBAiIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GApJA;AAqJA;AACA,cADA,wBACA;AACA;AACA,mBADA;AAEA,6BAFA;AAGA;AACA;AACA;AACA;AACA;AACA,6BADA;AAEA,4BAFA;;AAIA,aANA,CAMA;AACA;AACA;AACA;AACA,SAfA;;AAiBA,KAnBA;AAoBA;AACA,iBArBA,yBAqBA,IArBA,EAqBA;AACA;AACA;AACA;AACA;AACA;AACA,KA3BA;AA4BA,cA5BA,sBA4BA,GA5BA,EA4BA,IA5BA,EA4BA;AACA;AACA;AACA;AACA,+BADA,GACA;AACA;AACA;AACA;AACA;AACA;AACA,KAtCA;AAuCA,iBAvCA,yBAuCA,GAvCA,EAuCA,IAvCA,EAuCA;AACA;AACA;AACA;AACA;AACA;AACA,KA7CA;AA8CA;AACA,WA/CA,mBA+CA,GA/CA,EA+CA,IA/CA,EA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCADA;AAEA;AACA,sCADA,EAFA;;AAKA,qBALA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAHA;AAIA,WAPA,MAOA;AACA;AACA;AACA;AACA,aAFA;AAGA;AACA,SApBA;;AAsBA,KAnGA;AAoGA;AACA,iBArGA,yBAqGA,GArGA,EAqGA,IArGA,EAqGA,KArGA,EAqGA,IArGA,EAqGA,QArGA,EAqGA;AACA;AACA;AACA;AACA;AACA,yBADA,EACA;AACA,2BAFA,EAEA;AACA,uBAHA,EAGA;AACA,uBAJA,EAIA;AACA,sBALA,EAKA;AACA,uBANA,EAMA;AACA,sBAPA,EAOA;AACA,kBARA;;AAUA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,gCADA,EACA;AACA,+BAFA,EAEA;AACA,kBAHA,EAGA;AACA,oBAJA,EAIA;AACA,sBALA,CAKA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAFA,CAEA;AACA,oCAHA,CAGA;AACA,oCAJA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OA3BA,MA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApKA;AAqKA,iBArKA,2BAqKA;AACA;AACA;AACA;;;;;;;AAOA;AACA,0EADA;;;AAIA;AACA;AACA;AACA;AACA,4EADA;;AAGA;AACA;AACA;AACA;AACA,2BADA;AAEA,yBAFA;AAGA,uBAHA;AAIA,uBAJA;;AAMA;AACA,2EADA;;AAGA;AACA,KAtMA;AAuMA,cAvMA,wBAuMA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BADA,GACA,OADA,GACA,QADA,GACA,SADA,GACA,UAFA;;AAIA;AACA,KAxNA;AAyNA,cAzNA,wBAyNA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/PA;AAgQA,cAhQA,wBAgQA;AACA;AACA;AACA;AACA;AACA,mBADA;AAEA,4CAFA;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCADA;;AAGA,iBAJA,MAIA;AACA;AACA,iCADA;AAEA,gCAFA;;AAIA;AACA,eAXA,EAWA,GAXA;AAYA;AACA,WAtCA,MAsCA;;AAEA;AACA,SA7CA;;;AAgDA,KApTA;AAqTA,aArTA,qBAqTA,IArTA,EAqTA,KArTA,EAqTA,IArTA,EAqTA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlUA;AAmUA,eAnUA,uBAmUA,IAnUA,EAmUA,IAnUA,EAmUA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAVA;;AAYA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAtVA;AAuVA,UAvVA,kBAuVA,IAvVA,EAuVA;AACA;AACA;AACA;AACA;AACA;AACA,KA7VA;AA8VA,UA9VA,kBA8VA,CA9VA,EA8VA;AACA;AACA,KAhWA;AAiWA,YAjWA,sBAiWA;AACA;AACA;AACA,yBADA;AAEA,eAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA,SALA;;AAOA;AACA,yBADA;AAEA,eAFA,mBAEA,GAFA,EAEA;AACA;AACA,SAJA;;AAMA;AACA,yBADA;AAEA,eAFA,mBAEA,GAFA,EAEA;AACA;AACA,SAJA;;AAMA,KAtXA;AAuXA,cAvXA,sBAuXA,IAvXA,EAuXA;AACA;AACA;AACA;AACA,KA3XA;AA4XA,oBA5XA,4BA4XA,KA5XA,EA4XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAVA;;AAYA;AACA,KA5YA;AA6YA,YA7YA,oBA6YA,IA7YA,EA6YA;AACA;AACA,KA/YA;AAgZA;AACA,mBAjZA,2BAiZA,MAjZA,EAiZA;AACA;AACA;AACA;AACA,KArZA;AAsZA;AACA,aAvZA,qBAuZA,CAvZA,EAuZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAPA,GAOA,CAPA;AAQA;AACA;AACA;AACA,iBAXA;AAYA,0CAZA;AAaA,6CAbA,SAaA,MAbA;;AAeA;AACA,gCAhBA,GAgBA,iBAhBA;AAiBA,qBAjBA,GAiBA,CAjBA;AAkBA,wBAlBA,GAkBA,CAlBA;AAmBA;AACA,iBApBA,GAoBA,CApBA,eAoBA,UApBA;AAqBA,6CArBA,UAqBA,MArBA;AAsBA;AACA;AACA;AACA,iBAzBA,QAoBA,GApBA;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iBAdA,EAcA,GAdA,EAhCA;AA+CA,KAtcA;AAucA;AACA,aAxcA,qBAwcA,EAxcA,EAwcA;AACA;AACA;AACA;AACA,oBADA;AAEA,4BAFA;AAGA,oBAHA;;AAKA;AACA;AACA,SAPA;AAQA,YARA;AASA,OAXA;AAYA,KArdA,EArJA,E;;;;;;;;;;;;;AC5EA;AAAA;AAAA;AAAA;AAAy8C,CAAgB,g4CAAG,EAAC,C;;;;;;;;;;;ACA79C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/download/download.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/download/download.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./download.vue?vue&type=template&id=12be6f86&\"\nvar renderjs\nimport script from \"./download.vue?vue&type=script&lang=js&\"\nexport * from \"./download.vue?vue&type=script&lang=js&\"\nimport style0 from \"./download.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/download/download.vue\"\nexport default component.exports","export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./download.vue?vue&type=template&id=12be6f86&\"","var components = {\n  uniPopup: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.tabBars, function(tabItem, __i0__) {\n    var l0 = _vm.__map(tabItem.contentList, function(item, index) {\n      var m0 = _vm.getDownloadState(item.download)\n      var m1 = _vm.getPercent(item)\n      return {\n        $orig: _vm.__get_orig(item),\n        m0: m0,\n        m1: m1\n      }\n    })\n\n    return {\n      $orig: _vm.__get_orig(tabItem),\n      l0: l0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./download.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./download.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\r\n\t\t<!-- <uni-nav-bar  right-text=\"清除\" @click-right=\"clearCache\" :status-bar=\"true\" :show=\"true\" title=\"下载管理\" :background-color=\"'#ec706b'\" class=\"uni-nav-bar\" /> -->\r\n\r\n\t\t<!-- 顶部选项卡 -->\r\n\t\t<scroll-view id=\"nav-bar\" class=\"nav-bar\" scroll-x scroll-with-animation :scroll-left=\"scrollLeft\">\r\n\t\t\t<view v-for=\"(item, index) in tabBars\" :key=\"item.id\" class=\"nav-item\" :class=\"{ current: index === tabCurrentIndex }\"\r\n\t\t\t :id=\"'tab' + index\" @click=\"changeTab(index)\">\r\n\t\t\t\t{{ item.name }}\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<view class=\"panel-content\">\r\n\t\t\t<!-- 内容部分 -->\r\n\t\t\t<swiper id=\"swiper\" class=\"swiper-box\" :duration=\"300\" :current=\"tabCurrentIndex\" @change=\"changeTab\">\r\n\t\t\t\t<swiper-item v-for=\"tabItem in tabBars\" :key=\"tabItem.id\">\r\n\t\t\t\t\t<view  class=\"panel-scroll-box\" scroll-y>\r\n\t\t\t\t\t\t<!-- 小说 -->\r\n\t\t\t\t\t\t<view v-if=\"tabItem.id==2 && item.cache\"  v-for=\"(item, index) in tabItem.contentList\" :key=\"index\" @longpress=\"longpress(item, index,tabItem.id)\"\r\n\t\t\t\t\t\t class=\"news-item\">\r\n\t\t\t\t\t\t\t<view class=\"news-item-text\"><text>小说名称：{{ item.name }}</text></view>\r\n\t\t\t\t\t\t\t<view class=\"news-item-text\"><text>下载进度：{{item.data.length+\"/\"+item.xslist.length}}</text></view>\r\n\t\t\t\t\t\t\t<view class=\"news-item-text\"><text>下载状态：{{getDownloadState(item.download)}}</text></view>\r\n\t\t\t\t\t\t\t<progress :percent=\"getPercent(item)\" show-info stroke-width=\"3\" backgroundColor=\"#999\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 影视 -->\r\n\t\t\t\t\t\t<!-- 漫画 -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t</view>\r\n\t\t<!-- 底部弹窗 -->\r\n\t\t<uni-popup ref=\"share\" :type=\"type\" :custom=\"true\" @change=\"change\">\r\n\t\t\t<view class=\"uni-share\">\r\n\t\t\t\t<view class=\"uni-share-title\">{{selectObj.name}}</view>\r\n\t\t\t\t<view class=\"uni-share-content\">\r\n\t\t\t\t\t<view class=\"uni-share-item\" @tap=\"gotoXsJianjie\">\r\n\t\t\t\t\t\t<view class=\"uni-share-content-image\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/jianjie.png\" class=\"image\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"uni-share-content-text\">简介</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"uni-share-item\" @tap=\"gotoXsMulu\">\r\n\t\t\t\t\t\t<view class=\"uni-share-content-image\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/mulu.png\" class=\"image\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"uni-share-content-text\">目录</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"uni-share-item\" @tap=\"downloadXs\">\r\n\t\t\t\t\t\t<view class=\"uni-share-content-image\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/download.png\" class=\"image\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"uni-share-content-text\">{{selectObj.downloadText}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"uni-share-item\" @tap=\"deleteXsSc\">\r\n\t\t\t\t\t\t<view class=\"uni-share-content-image\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/delete.png\" class=\"image\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"uni-share-content-text\">删除</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"uni-share-btn\" @click=\"cancel('share')\">取消</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport config from '@/config';\r\n\timport mixLoading from '@/components/mix-loading/mix-loading';\r\n\timport uniIcons from '@/components/uni-icons/uni-icons.vue';\r\n\timport uniNavBar from '@/components/uni-nav-bar/uni-nav-bar.vue';\r\n\timport uniPopup from '@/components/uni-popup/uni-popup.vue'\r\n\tlet windowWidth = 0,\r\n\t\tscrollTimer = false,\r\n\t\ttabBar;\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tmixLoading,\r\n\t\t\tuniIcons,\r\n\t\t\tuniNavBar,\r\n\t\t\tuniPopup\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttabBars: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: '影视',\n\t\t\t\t\t\tid: '3',\n\t\t\t\t\t\tcontentList: []\n\t\t\t\t\t},\n\t\t\t\t\t// {\r\n\t\t\t\t\t// \tname: '小说',\r\n\t\t\t\t\t// \tid: '2',\r\n\t\t\t\t\t// \tcontentList: []\r\n\t\t\t\t\t// },\r\n\t\t\t\t\t\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '漫画',\r\n\t\t\t\t\t\tid: '1',\r\n\t\t\t\t\t\tcontentList: []\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\ttabCurrentIndex: 0, //当前选项卡索引\r\n\t\t\t\tscrollLeft: 0, //顶部选项卡左滑距离\r\n\t\t\t\tenableScroll: true,\r\n\t\t\t\tcontentData: {},\r\n\t\t\t\tloading: false,\r\n\t\t\t\tkeyWord: '',\r\n\t\t\t\ttimedown: 3,\r\n\t\t\t\tloadListRequest: null,\r\n\t\t\t\tcancelFlag: false,\r\n\t\t\t\tshow: false,\r\n\t\t\t\ttype: '',\r\n\t\t\t\tselectObj: \"\", //选择的小说，电影，漫画\r\n\t\t\t\tselectObjIndex: 0 //选择的索引值\r\n\t\t\t};\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\tthis.$refs[\"share\"].close();\r\n\t\t\tthis.cancelFlag = false;\r\n\t\t},\r\n\t\tcomputed: {\r\n\r\n\t\t},\n\t\tonNavigationBarButtonTap(e){\n\t\t\tif (e.index == 0) {\n\t\t\t\t\n\t\t\t}\n\t\t\tif (e.index == 1) {\n\t\t\t\tthis.clearCache()\n\t\t\t}\n\t\t},\r\n\t\tonShow() {\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tplus.navigator.setFullscreen(false);\r\n\t\t\t// #endif\r\n\t\t\tthis.loadList();\r\n\t\t\tuni.request({\n\t\t\t\turl: 'https://www.gjtool.cn/download/config.json',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tcomplete: res => {\n\t\t\t\t\tif (res.statusCode == 200 && res.data) {\n\t\t\t\t\t\tlet data = res.data;\n\t\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\t\tkey: 'config',\n\t\t\t\t\t\t\tdata: data\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (!data || !data.enable) {\n\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\turl: '/pages/gonggao/gonggao'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\r\n\t\t},\r\n\t\tasync onLoad() {\n\t\t\tlet _this = this;\r\n\t\t\t// 获取屏幕宽度\r\n\t\t\twindowWidth = uni.getSystemInfoSync().windowWidth;\r\n\r\n\t\t\t//监听小说下载事件\r\n\t\t\tthis.$eventHub.$on('xsDownload', (data) => {\r\n\t\t\t\tlet value = uni.getStorageSync('xsDownload');\n\t\t\t\tif (value) {\n\t\t\t\t\tfor (let i = 0; i < value.length; i++) {\n\t\t\t\t\t\tif (value[i].name == data.name) {\n\t\t\t\t\t\t\tvalue[i].cache = true;\r\n\t\t\t\t\t\t\tvalue[i].download = \"2\";\n\t\t\t\t\t\t\t_this.downloadxsAll(value[i])\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t_this.tabBars[1].contentList = value;\n\t\t\t\t\tuni.setStorageSync('xsDownload',value)\n\t\t\t\t}\n\t\t\t})\r\n\t\t\t//监听影视下载事件\r\n\t\t\tthis.$eventHub.$on('ysDownload', (data) => {\r\n\r\n\t\t\t})\r\n\t\t\t//监听漫画下载事件\r\n\t\t\tthis.$eventHub.$on('mhDownload', (data) => {\r\n\r\n\t\t\t})\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tlet value =  _this.tabBars[1].contentList;\r\n\t\t\t\tfor (let i = 0; i < value.length; i++) {\r\n\t\t\t\t\tif(value[i].download != \"1\"){\r\n\t\t\t\t\t\tvalue[i].download = \"3\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t_this.tabBars[1].contentList = value;\r\n\t\t\t\tuni.setStorageSync('xsDownload',value)\r\n\t\t\t},300)\r\n\t\t},\r\n\t\tonUnload(){\r\n\t\t\tlet value =  _this.tabBars[1].contentList;\r\n\t\t\tfor (let i = 0; i < value.length; i++) {\r\n\t\t\t\tvalue[i].download = \"3\";\r\n\t\t\t}\r\n\t\t\t_this.tabBars[1].contentList = value;\r\n\t\t\tuni.setStorageSync('xsDownload',value)\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\t// let obj = {\r\n\t\t\t// \t\"name\": _this.xsname, //小说名称\r\n\t\t\t// \"cover\":_this.cover, //当前小说预览图\r\n\t\t\t// \"url\":this.url1, //小说url\r\n\t\t\t// \"num\":this.num, //当前章节索引\r\n\t\t\t// \t\"cache\": false, //是否缓存-显示在下载管理\r\n\t\t\t// \t\"download\": \"0\", //缓存状态 0未缓存 1全部缓存完毕 2正在缓存 3缓存暂停\r\n\t\t\t// \t\"xslist\": data, //小说章节目录\r\n\t\t\t// \t\"data\": []\r\n\t\t\t// };\r\n\t\t\t// let obj2 = {\r\n\t\t\t// \t\"numName\": data[num].num, //缓存下载的章节名称\r\n\t\t\t// \t\"numUrl\": data[num].url, //缓存下载的章节url\r\n\t\t\t// \t\"num\": num, //缓存下载的章节索引\r\n\t\t\t// \t\"list\": list, //缓存下载的章节内容\r\n\t\t\t// \t\"state\": state //缓存状态 loading fail done\r\n\t\t\t// }\r\n\r\n\t\t},\r\n\t\tmethods: {\n\t\t\tclearCache(){\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '提示',\n\t\t\t\t\tcontent: '确定清除所有缓存吗？',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t    uni.clearStorage()\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle:\"清除成功\",\n\t\t\t\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t    // error\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t//下载所有小说章节\n\t\t\tdownloadxsAll(item){\n\t\t\t\tif(item.cache){\n\t\t\t\t\tlet xslist = item.xslist;\n\t\t\t\t\tlet data = item.data;\r\n\t\t\t\t\tthis.getData(0,item)\n\t\t\t\t}\n\t\t\t},\n\t\t\tisDownload(num,data){\n\t\t\t\tlet flag = false;\n\t\t\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\t\t\tif(data[i].num == num &&  (data[i].list.length ||\n\t\t\t\t\tdata[i].state == \"done\")){\n\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\r\n\t\t\t\treturn flag\n\t\t\t},\r\n\t\t\tgetNoDownload(num,data){\r\n\t\t\t\tif(!this.isDownload(num,data)){\r\n\t\t\t\t\treturn num\r\n\t\t\t\t}\r\n\t\t\t\tnum++\r\n\t\t\t\treturn this.getNoDownload(num,data)\r\n\t\t\t},\n\t\t\t//下载章节内容\n\t\t\tgetData(num,item){\n\t\t\t\tlet _this = this;\r\n\t\t\t\tlet value = uni.getStorageSync('xsDownload');\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tfor (let i = 0; i < value.length; i++) {\r\n\t\t\t\t\t\tif (value[i].name == item.name) {\r\n\t\t\t\t\t\t\titem = value[i]\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//递归查找\r\n\t\t\t\tlet count = this.getNoDownload(num,item.data)\r\n\t\t\t\tnum = count;\r\n\t\t\t\tif(num>=item.xslist.length){\r\n\t\t\t\t\tlet value =  _this.tabBars[1].contentList;\r\n\t\t\t\t\tfor (let i = 0; i < value.length; i++) {\r\n\t\t\t\t\t\tif(value[i].name == item.name){\r\n\t\t\t\t\t\t\tvalue[i].download = \"1\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t_this.tabBars[1].contentList = value;\r\n\t\t\t\t\tuni.setStorageSync('xsDownload',value);\r\n\t\t\t\t\t_this.selectObj.downloadText = \"继续\"\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(item.download == \"3\"){\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tuni.request({\n\t\t\t\t\turl: config.baseUrl,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\txsurl2: item.xslist[num].url\n\t\t\t\t\t},\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\tcomplete: res => {\n\t\t\t\t\t\tif (res.statusCode == 200 && res.data && res.data.code == 0) {\n\t\t\t\t\t\t\tlet list = res.data.content;\n\t\t\t\t\t\t\t// console.log(\"加载成功：第\" + num + \"章\")\n\t\t\t\t\t\t\t_this.setCacheValue(num, list, \"done\",item,()=>{\r\n\t\t\t\t\t\t\t\tnum++;\r\n\t\t\t\t\t\t\t\t_this.getData(num,item)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// console.log(\"加载失败：第\" + num + \"章\")\n\t\t\t\t\t\t\t_this.setCacheValue(num, [], \"fail\",item,()=>{\r\n\t\t\t\t\t\t\t\t_this.getData(num,item)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t//设置缓存\n\t\t\tsetCacheValue(num, list, state,item,callback) {\n\t\t\t\tlet _this = this;\n\t\t\t\tlet data = item.xslist;\n\t\t\t\tnum = parseInt(num)\n\t\t\t\tlet obj = {\n\t\t\t\t\t\"name\": item.name, //小说名称\n\t\t\t\t\t\"cover\": item.cover, //当前小说预览图\n\t\t\t\t\t\"url\": item.url, //小说url\n\t\t\t\t\t\"num\": item.num, //当前章节索引\n\t\t\t\t\t\"cache\": false, //是否缓存-显示在下载管理\n\t\t\t\t\t\"download\": \"0\", //缓存状态  0未缓存 1下载完毕 2正在下载 3下载暂停\n\t\t\t\t\t\"xslist\": data, //小说章节目录\n\t\t\t\t\t\"data\": []\n\t\t\t\t};\r\n\t\t\t\tif(num>=data.length-1){\r\n\t\t\t\t\tobj.download = \"1\";\r\n\t\t\t\t}else {\r\n\t\t\t\t\tobj.download = \"2\";\r\n\t\t\t\t}\r\n\t\t\t\tlet obj2 = {\n\t\t\t\t\t\"numName\": data[num].num, //缓存下载的章节名称\n\t\t\t\t\t\"numUrl\": data[num].url, //缓存下载的章节url\n\t\t\t\t\t\"num\": num, //缓存下载的章节索引\n\t\t\t\t\t\"list\": list, //缓存下载的章节内容\n\t\t\t\t\t\"state\": state //缓存状态 loading fail done\n\t\t\t\t}\n\t\t\t\tobj.data.push(obj2)\n\t\t\t\tlet value = uni.getStorageSync('xsDownload');\n\t\t\t\tlet isSave = false;\n\t\t\t\tif (value) {\n\t\t\t\t\tfor (let i = 0; i < value.length; i++) {\n\t\t\t\t\t\tif (value[i].name == item.name) {\n\t\t\t\t\t\t\tlet arr = value[i].data;\n\t\t\t\t\t\t\tvalue[i].cover = item.cover; //当前小说预览图\n\t\t\t\t\t\t\tvalue[i].url = item.url; //小说url\n\t\t\t\t\t\t\tvalue[i].num = item.num; //当前章节索引\n\t\t\t\t\t\t\tlet flag = false;\n\t\t\t\t\t\t\tfor (let j = 0; j < arr.length; j++) {\n\t\t\t\t\t\t\t\tif (arr[j].numName == data[num].num && arr[j].num == num) {\n\t\t\t\t\t\t\t\t\tarr[j].list = list;\n\t\t\t\t\t\t\t\t\tarr[j].numUrl = data[num].url;\n\t\t\t\t\t\t\t\t\tarr[j].state = \"done\";\n\t\t\t\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!flag) {\n\t\t\t\t\t\t\t\tvalue[i].xslist = data;\n\t\t\t\t\t\t\t\tvalue[i].data.push(obj2)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tisSave = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!isSave) {\n\t\t\t\t\t\tvalue.push(obj)\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvalue = [];\n\t\t\t\t\tvalue.push(obj)\n\t\t\t\t}\r\n\t\t\t\t_this.tabBars[1].contentList = value;\n\t\t\t\tuni.setStorageSync('xsDownload', value);\r\n\t\t\t\tcallback && callback()\n\t\t\t},\r\n\t\t\tgotoXsJianjie() {\r\n\t\t\t\tlet item = this.selectObj;\r\n\t\t\t\t//跳转影视\r\n\t\t\t\tif (this.selectType == '3') {\r\n\t\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: `/pages/video/video?data=${JSON.stringify(item)}`\n\t\t\t\t\t})\n\t\t\t\t\t// #endif\n\t\t\t\t\t// #ifndef APP-PLUS\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: `/pages/details/details?data=${JSON.stringify(item)}`\n\t\t\t\t\t});\n\t\t\t\t\t// #endif\r\n\t\t\t\t}\r\n\t\t\t\t//跳转漫画\r\n\t\t\t\tif (this.selectType == '1') {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: `/pages/details/mhdetails?data=${JSON.stringify(item)}`\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t//跳转小说\r\n\t\t\t\tif (this.selectType == '2') {\r\n\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\tcover: item.cover,\r\n\t\t\t\t\t\tname: item.name,\r\n\t\t\t\t\t\tnum: item.num,\r\n\t\t\t\t\t\turl: item.url\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: `/pages/details/xsdetails?data=${JSON.stringify(obj)}`\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgotoXsMulu() {\r\n\t\t\t\tlet item = this.selectObj;\r\n\t\t\t\t//跳转影视\r\n\t\t\t\tif (this.selectType == '3') {\r\n\r\n\t\t\t\t}\r\n\t\t\t\t//跳转漫画\r\n\t\t\t\tif (this.selectType == '1') {\r\n\r\n\t\t\t\t}\r\n\t\t\t\t//跳转小说\r\n\t\t\t\tif (this.selectType == '2') {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/xslist/xslist?xsname=' + encodeURIComponent(item.name) + '&num=' + encodeURIComponent(item.num) +\r\n\t\t\t\t\t\t\t'&from=download' + \"&url=\" + item.url + \"&cover=\" + item.cover\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdownloadXs() {\r\n\t\t\t\tlet _this  = this;\r\n\t\t\t\tlet item = this.selectObj;\r\n\t\t\t\tthis.$refs[\"share\"].close();\r\n\t\t\t\t//下载影视\r\n\t\t\t\tif (this.selectType == '3') {\r\n\r\n\t\t\t\t}\r\n\t\t\t\t//下载漫画\r\n\t\t\t\tif (this.selectType == '1') {\r\n\r\n\t\t\t\t}\r\n\t\t\t\t//下载小说\r\n\t\t\t\tif (this.selectType == '2') {\r\n\t\t\t\t\tlet value = uni.getStorageSync('xsDownload');\r\n\t\t\t\t\tlet obj = {};\r\n\t\t\t\t\tif (value) {\r\n\t\t\t\t\t\tfor (let i = 0; i < value.length; i++) {\r\n\t\t\t\t\t\t\tif (value[i].name == item.name) {\r\n\t\t\t\t\t\t\t\tvalue[i].cache = true;\r\n\t\t\t\t\t\t\t\tif(value[i].download != \"2\"){\r\n\t\t\t\t\t\t\t\t\tvalue[i].download = \"2\";\r\n\t\t\t\t\t\t\t\t\tobj = value[i];\r\n\t\t\t\t\t\t\t\t\t_this.selectObj.downloadText = \"暂停\"\r\n\t\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\t\tvalue[i].download = \"3\";\r\n\t\t\t\t\t\t\t\t\t_this.selectObj.downloadText = \"继续\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_this.tabBars[1].contentList = value;\r\n\t\t\t\t\t\tuni.setStorageSync('xsDownload',value)\r\n\t\t\t\t\t\tif(obj && obj.download && obj.download == \"2\"){\r\n\t\t\t\t\t\t\t_this.downloadxsAll(obj);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeleteXsSc() {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tthis.$refs[\"share\"].close();\r\n\t\t\t\tlet item = this.selectObj;\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '确定删除《' + item.name + '》吗？',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t//删除影视\r\n\t\t\t\t\t\t\tif (this.selectType == '3') {\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//删除漫画\r\n\t\t\t\t\t\t\tif (this.selectType == '1') {\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//删除小说\r\n\t\t\t\t\t\t\tif (this.selectType == '2') {\r\n\t\t\t\t\t\t\t\tlet value = uni.getStorageSync('xsDownload');\r\n\t\t\t\t\t\t\t\tlet flag = false;\r\n\t\t\t\t\t\t\t\tif (value && value.length) {\r\n\t\t\t\t\t\t\t\t\tfor (let i = 0; i < value.length; i++) {\r\n\t\t\t\t\t\t\t\t\t\tif (value[i].name == item.name) {\r\n\t\t\t\t\t\t\t\t\t\t\tflag = true;\r\n\t\t\t\t\t\t\t\t\t\t\tvalue[i].cache = false;\n\t\t\t\t\t\t\t\t\t\t\tvalue.splice(i,1)\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t_this.tabBars[1].contentList = value;\r\n\t\t\t\t\t\t\t\t\tuni.setStorageSync('xsDownload', value);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tif (flag) {\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"删除成功\"\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"删除失败\",\r\n\t\t\t\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}, 100);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\tlongpress(item, index, type) {\r\n\t\t\t\tthis.selectObj = item;\r\n\t\t\t\tthis.selectObjIndex = index;\r\n\t\t\t\tif(item.download == \"3\" || item.download == \"1\"){\r\n\t\t\t\t\tthis.selectObj.downloadText = \"继续\";\r\n\t\t\t\t}else {\r\n\t\t\t\t\tthis.selectObj.downloadText = \"暂停\";\r\n\t\t\t\t}\r\n\t\t\t\tthis.cancelFlag = false;\r\n\t\t\t\tthis.selectType = type;\r\n\t\t\t\tif (this.selectType == \"2\") {\r\n\t\t\t\t\tthis.togglePopup('bottom', 'share')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttogglePopup(type, open) {\r\n\t\t\t\tswitch (type) {\r\n\t\t\t\t\tcase 'top':\r\n\t\t\t\t\t\tthis.content = '顶部弹出 popup'\r\n\t\t\t\t\t\tbreak\r\n\r\n\t\t\t\t\tcase 'bottom':\r\n\t\t\t\t\t\tthis.content = '底部弹出 popup'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'center':\r\n\t\t\t\t\t\tthis.content = '居中弹出 popup'\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tthis.type = type\r\n\t\t\t\tif (open === 'tip') {\r\n\t\t\t\t\tthis.show = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$refs[open].open()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcancel(type) {\r\n\t\t\t\tif (type === 'tip') {\r\n\t\t\t\t\tthis.show = false\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.$refs[type].close()\r\n\t\t\t},\r\n\t\t\tchange(e) {\r\n\t\t\t\t// console.log(e.show)\r\n\t\t\t},\r\n\t\t\tloadList() {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: 'xsDownload',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t// console.log(res.data)\r\n\t\t\t\t\t\t_this.tabBars[1].contentList = res.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: 'ysDownload',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t_this.tabBars[0].contentList = res.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: 'mhDownload',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t_this.tabBars[2].contentList = res.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetPercent(item) {\r\n\t\t\t\tlet a = item.data.length;\r\n\t\t\t\tlet b = item.xslist.length;\r\n\t\t\t\treturn ((a / b) * 100).toFixed(2)\r\n\t\t\t},\r\n\t\t\tgetDownloadState(state) {\r\n\t\t\t\t// 0未缓存 1下载完毕 2正在下载 3下载暂停\r\n\t\t\t\tlet str = \"\"\r\n\t\t\t\tswitch (state) {\r\n\t\t\t\t\tcase \"1\":\r\n\t\t\t\t\t\tstr = \"下载完毕\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"2\":\r\n\t\t\t\t\t\tstr = \"正在下载\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"3\":\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tstr = \"下载暂停\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\treturn str\r\n\t\t\t},\r\n\t\t\timgError(item) {\r\n\t\t\t\titem.cover = \"/static/movie.png\"\r\n\t\t\t},\r\n\t\t\t//设置scroll-view是否允许滚动，在小程序里下拉刷新时避免列表可以滑动\r\n\t\t\tsetEnableScroll(enable) {\r\n\t\t\t\tif (this.enableScroll !== enable) {\r\n\t\t\t\t\tthis.enableScroll = enable;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//tab切换\r\n\t\t\tasync changeTab(e) {\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t\tif (scrollTimer) {\r\n\t\t\t\t\t//多次切换只执行最后一次\r\n\t\t\t\t\tclearTimeout(scrollTimer);\r\n\t\t\t\t\tscrollTimer = false;\r\n\t\t\t\t}\r\n\t\t\t\tlet index = e;\r\n\t\t\t\t//e=number为点击切换，e=object为swiper滑动切换\r\n\t\t\t\tif (typeof e === 'object') {\r\n\t\t\t\t\tindex = e.detail.current;\r\n\t\t\t\t}\r\n\t\t\t\tif (typeof tabBar !== 'object') {\r\n\t\t\t\t\ttabBar = await this.getElSize('nav-bar');\r\n\t\t\t\t}\r\n\t\t\t\t//计算宽度相关\r\n\t\t\t\tlet tabBarScrollLeft = tabBar.scrollLeft;\r\n\t\t\t\tlet width = 0;\r\n\t\t\t\tlet nowWidth = 0;\r\n\t\t\t\t//获取可滑动总宽度\r\n\t\t\t\tfor (let i = 0; i <= index; i++) {\r\n\t\t\t\t\tlet result = await this.getElSize('tab' + i);\r\n\t\t\t\t\twidth += result.width;\r\n\t\t\t\t\tif (i === index) {\r\n\t\t\t\t\t\tnowWidth = result.width;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (typeof e === 'number') {\r\n\t\t\t\t\t//点击切换时先切换再滚动tabbar，避免同时切换视觉错位\r\n\t\t\t\t\tthis.tabCurrentIndex = index;\r\n\t\t\t\t}\r\n\t\t\t\t//延迟300ms,等待swiper动画结束再修改tabbar\r\n\t\t\t\tscrollTimer = setTimeout(() => {\r\n\t\t\t\t\tif (width - nowWidth / 2 > windowWidth / 2) {\r\n\t\t\t\t\t\t//如果当前项越过中心点，将其放在屏幕中心\r\n\t\t\t\t\t\tthis.scrollLeft = width - nowWidth / 2 - windowWidth / 2;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.scrollLeft = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (typeof e === 'object') {\r\n\t\t\t\t\t\tthis.tabCurrentIndex = index;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.tabCurrentIndex = index;\r\n\r\n\t\t\t\t\tlet tabItem = this.tabBars[this.tabCurrentIndex];\r\n\r\n\t\t\t\t}, 300);\r\n\t\t\t},\r\n\t\t\t//获得元素的size\r\n\t\t\tgetElSize(id) {\r\n\t\t\t\treturn new Promise((res, rej) => {\r\n\t\t\t\t\tlet el = uni.createSelectorQuery().select('#' + id);\r\n\t\t\t\t\tel.fields({\r\n\t\t\t\t\t\t\tsize: true,\r\n\t\t\t\t\t\t\tscrollOffset: true,\r\n\t\t\t\t\t\t\trect: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata => {\r\n\t\t\t\t\t\t\tres(data);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t).exec();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage,\r\n\t.content {\r\n\t\tbackground-color: #f8f8f8;\r\n\t\theight: 100%;\r\n\t\toverflow: hidden;\r\n\t\t/* #ifdef APP-PLUS */\r\n\t\t// height: 1334upx;\r\n\t\t/* #endif */\r\n\t}\r\n\r\n\t/* 顶部tabbar */\r\n\t.nav-bar {\r\n\t\tposition: fixed;\r\n\t\t/* #ifdef APP-PLUS */\r\n\t\t/* top: 64px; */\r\n\t\t/* #endif */\r\n\t\t/* #ifdef H5 */\r\n\t\ttop: 44px;\r\n\t\t/* #endif */\r\n\t\tz-index: 10;\r\n\t\theight: 45px;\r\n\t\twhite-space: nowrap;\r\n\t\tbox-shadow: 0 1px 4px rgba(0, 0, 0, 0.06);\r\n\t\tbackground-color: #fff;\r\n\t\ttext-align: center;\r\n\r\n\t\t.nav-item {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\twidth: 75px;\r\n\t\t\theight: 45px;\r\n\t\t\ttext-align: center;\r\n\t\t\tline-height: 45px;\r\n\t\t\tfont-size: 15px;\r\n\t\t\tcolor: #303133;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t&:after {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\twidth: 0;\r\n\t\t\t\theight: 0;\r\n\t\t\t\tborder-bottom: 2px solid #007aff;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\ttransform: translateX(-50%);\r\n\t\t\t\ttransition: 0.3s;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.current {\r\n\t\t\tcolor: #007aff;\r\n\r\n\t\t\t&:after {\r\n\t\t\t\twidth: 50%;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.uni-scroll-view {}\r\n\r\n\t.panel-content {\n\t\theight: 100%;\r\n\t\tposition: relative;\n\t\tmargin-top: 45px;\n\t\t/* #ifdef H5 */\n\t\t/* #endif */\n\t\t/* #ifdef APP-PLUS */\n\t\t// height: 1334upx;\n\t\t/* #endif */\r\n\t}\r\n\r\n\t.swiper-box {\n\t\theight: 100%;\r\n\t\tposition: relative;\r\n\t\t/* #ifdef APP-PLUS */\r\n\t\t// height: 1056upx;\r\n\t\t/* #endif */\r\n\t\t/* #ifdef H5 */\r\n\t\t/* #endif */\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.panel-scroll-box {\r\n\t\tpadding: 10px;\n\t\theight: 100%;\r\n\t\t/* #ifdef APP-PLUS */\r\n\t\t// height: 1056upx;\r\n\t\tpadding-bottom:20px;\r\n\t\t/* #endif */\r\n\t\t/* #ifdef H5 */\r\n\t\t/* #endif */\r\n\t\tposition: relative;\r\n\t\toverflow-y: auto;\r\n\t\t.panel-item {\r\n\t\t\tbackground: #fff;\r\n\t\t\tpadding: 30px 0;\r\n\t\t\tborder-bottom: 2px solid #000;\r\n\t\t}\r\n\t}\r\n\r\n\tview {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.news-item {\r\n\t\tposition: relative;\r\n\t\twidth: 100%;\r\n\t\tpadding: 10px;\r\n\t\tbox-sizing: border-box;\r\n\t\tdisplay: block;\r\n\t\tfont-size: 14px;\r\n\t\tmargin-bottom: 10px;\r\n\t\tborder-color: #e5e5e5;\r\n\t\tborder-style: solid;\r\n\t\tborder-width: 1px;\r\n\t\tbox-shadow: 0 1px 2px rgba(0, 0, 0, .2);\r\n\t\t.news-item-text {\r\n\t\t\tmargin-bottom: 4px;\r\n\t\t}\r\n\t}\r\n\r\n\t.text-list {\r\n\t\twidth: 125px;\r\n\t\theight: 42px;\r\n\t\tpadding: 4px;\r\n\t}\r\n\r\n\t.title {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #303133;\r\n\t\tline-height: 18px;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n\r\n\t.img-list {\r\n\t\tflex-shrink: 0;\r\n\t\tflex-direction: row;\r\n\t\tbackground-color: #fff;\r\n\t\twidth: 115px;\r\n\t\theight: 153px;\r\n\t}\r\n\r\n\t.img {\r\n\t\tflex: 1;\r\n\t\twidth: 45%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.cancel {\r\n\t\tposition: absolute;\r\n\t\tright: 0px;\r\n\t\ttop: 0px;\r\n\t\tbackground: #fff;\r\n\t\tz-index: 2;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t/* 底部分享 */\r\n\t.uni-share {\r\n\t\tbackground: #fff;\r\n\t}\r\n\r\n\t.uni-share-title {\r\n\t\tline-height: 30px;\r\n\t\tfont-size: 16px;\r\n\t\tpadding: 7px 0;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.uni-share-content {\r\n\t\tdisplay: block;\r\n\r\n\t\t.uni-share-item {\r\n\t\t\tdisplay: block;\r\n\t\t\twidth: 25%;\r\n\t\t\tfloat: left;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t}\r\n\r\n\t.uni-share-content-box {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\twidth: 25%;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.uni-share-content-image {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\twidth: 30px;\r\n\t\theight: 30px;\r\n\t\toverflow: hidden;\r\n\t\tborder-radius: 5px;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\r\n\t.uni-share-content-image .image {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.uni-share-content-text {\r\n\t\tfont-size: 13px;\r\n\t\tcolor: #333;\r\n\t\tpadding-top: 5px;\r\n\t\tpadding-bottom: 10px;\r\n\t}\r\n\r\n\t.uni-share-btn {\r\n\t\theight: 45px;\r\n\t\tline-height:45px;\r\n\t\tborder-top: 1px #f5f5f5 solid;\r\n\t\ttext-align: center;\r\n\t\tcolor: #666;\r\n\t}\r\n\tuni-progress.uni-progress .uni-progress-info{\r\n\t\tfont-size: 10px !important;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./download.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./download.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1592981295926\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}